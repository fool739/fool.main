---
import type { Comment } from '../../types/comment';

interface Props {
    comment: Comment;
}

const { comment } = Astro.props;

const formattedDate = new Intl.DateTimeFormat('en-US', {
    month: '2-digit',
    day: '2-digit',
    year: 'numeric',
    hour: '2-digit',
    minute: '2-digit'
}).format(new Date(comment.timestamp));
---

<div class="p-4 rounded-lg border border-neutral-200 dark:border-neutral-800">
    <div class="flex flex-wrap items-center gap-2 mb-2">
        <span class="font-bold text-stone-900 dark:text-zinc-50">
            {comment.author}
        </span>
        {comment.isPresetName && (
            <span class="text-xs px-2 py-0.5 rounded-md bg-neutral-100 dark:bg-neutral-800 text-neutral-500 dark:text-neutral-400">
                traveler
            </span>
        )}
        <span class="text-sm text-neutral-500 dark:text-neutral-500">
            {formattedDate}
        </span>
    </div>
    <p class="text-neutral-600 dark:text-neutral-400 leading-relaxed whitespace-pre-wrap">
        {comment.content}
    </p>
</div>
